diff -rup initscripts-9.49.37/sysconfig/network-scripts/ifup-post initscripts-9.49.37-peerdns/sysconfig/network-scripts/ifup-post
--- initscripts-9.49.37/sysconfig/network-scripts/ifup-post	2016-09-12 06:47:53.000000000 -0400
+++ initscripts-9.49.37-peerdns/sysconfig/network-scripts/ifup-post	2016-11-29 14:59:17.980892509 -0500
@@ -32,13 +32,13 @@ if [ "$PEERDNS" != "no" ] ||[ -n "$RESOL
           DNS2=
   fi
 
-  if ( [ -n "$DNS1" ] && ! grep -q "^nameserver $DNS1" /etc/resolv.conf ) ||
-   ( [ -n "$DNS2" ] && ! grep -q "^nameserver $DNS2" /etc/resolv.conf ) &&
+  if ( [ -n "$DNS1" ] && ! grep -q "^nameserver $DNS1" /etc/resolv-peerdns.conf ) ||
+   ( [ -n "$DNS2" ] && ! grep -q "^nameserver $DNS2" /etc/resolv-peerdns.conf ) &&
    tr=$(mktemp /tmp/XXXXXX) ; then
     current_replacement="$DNS1"
     next_replacement="$DNS2"
     search=
-    (cat /etc/resolv.conf ; echo EOF ; echo EOF) | while read answer ; do
+    (cat /etc/resolv-peerdns.conf ; echo EOF ; echo EOF) | while read answer ; do
 	case $answer in
 	    nameserver*|EOF)
 		if [ -n "$current_replacement" ] ; then
